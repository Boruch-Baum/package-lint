name: CI

on: [push]

env:
  EMACS_CI: emacs-26-3 

jobs:
  build:

    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v1
    - name: Run a multi-line script
      run: |
        sh <(curl https://nixos.org/nix/install)
        source ~/.nix-profile/etc/profile.d/nix.sh
        bash <(curl https://raw.githubusercontent.com/purcell/nix-emacs-ci/master/travis-install)
        ./run-tests.sh
